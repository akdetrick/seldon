<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />

	<title>Sassquatch 2</title>

	<!-- Whitney -->
	<link rel="stylesheet" href="http://static1.meetupstatic.com/fonts/whitney.css" type="text/css" />

	<!-- Styleguide CSS -->
	<link rel="stylesheet" href="css/doc.css">
	<link rel="stylesheet" href="css/github.css">

	<!-- CSS to be documented -->
	<!-- lol, just link it to hologram-compiled docs for now -->
	<link rel="stylesheet" href="http://meetup.github.io/sassquatch2/css/sassquatch.css">

	<style type="text/css">
		dt {
			font-size: 18px;
			font-weight: bold;
		}
		dd {
			margin-left: 4em;
		}
	</style>
</head>

<!--[if IE 8]> <body class="lang_en ieRoot_IE8 ieRoot_lt_IE9 ieRoot_lt_IE10"> <![endif]-->
<!--[if IE 9]> <body class="lang_en ieRoot_IE9 ieRoot_lt_IE10"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <body class="lang_en ieRoot_modern"> <!--<![endif]-->

<section class="stripe">
	<div class="bounds">

		<h1 class="text--display">lol, documentation</h1>

		<ul>
		{{#each categoryObj}}
		<li>
			<h2 class="text--headline"><em>Category:</em> {{@key}}</h2>
			<dl>
				{{#each this.blocks}}
					<dt>Name<dt>
					<dd>{{this.name}}</dd>

					<dt>Title<dt>
					<dd>{{this.title}}</dd>

					<dt>Description<dt>
					<dd>{{{this.description}}}</dd>
				{{/each}}
			</dl>
		</li>
		{{/each}}
		</ul>

	</div>
</section>

<!-- lunr.js search index -->
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
<script type="text/javascript" src="js/fuse.min.js"></script>
<script type="text/javascript" src="js/search.js"></script>
<script type="text/javascript">
$(function() {
	//
	// Disable links without real href
	//
	$('a').on("click", function(e) {
		if ( this.getAttribute("href") == "#" || $(this).hasClass('noFollow') ) {
			e.preventDefault();
		}
		return;
	});

	//
	// collapsible example
	//
	var $c = $('#cContainer'),
		CLASS_COL_CLOSE = 'collapsible--close';
	if ( $c.length > 0 ) {
		$('#cTrigger').on('click', function() {
			if ( $c.hasClass(CLASS_COL_CLOSE) ) {
				$c.removeClass(CLASS_COL_CLOSE);
			} else {
				$c.addClass(CLASS_COL_CLOSE);
			}
		});
	}

	//
	// lunr search index
	//
	var fuseIndex = [];
	<% @pages.each do |file_name, page| %>
		<% if not page[:blocks].empty? %>
			<% page[:blocks].each do |block| %>
				<% file_path = block[:categories][0].to_s.gsub(' ', '_').downcase + '.html' %>
				<% file_id = "#"+block[:name].to_s %>

				<%= "fuseIndex.push({" %>
					<%= "\"title\": \""+block[:title].to_s+"\"," %>
					<%= "\"name\": \""+block[:name].to_s+"\"," %>
					<%= "\"category\": \""+block[:categories][0].to_s+"\"," %>
					<%= "\"url\": \""+file_path+file_id+"\"" %>
				<%= "});" %>

			<% end %>
		<% end %>
	<% end %>

	var Searchable = new Fuse(fuseIndex, {
		caseSensitive: false,
		includeScore: false,
		shouldSort: true,
		threshold: 0.3,
		keys: ["title","name","breadcrumb"]
	});

	$('#search').on('keyup', function(e) {
		Autocomplete.displayResults( Searchable.search( $(this).val() ) );
	});
	$(document.body).on('click', Autocomplete.dismiss);
	$(document.body).on('keydown', Autocomplete.dismiss);
	$(window).on('scroll', Autocomplete.dismiss);

});
</script>

</body>
</html>
